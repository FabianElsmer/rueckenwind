.test_template: &test_def
  script:
  - pip install pytest coveralls pytest-cov pep8
  # run tests in different python versions with tox
  # and run pep8
  - pip install -e .
  - py.test --cov rw --cov doc --cov test


cache:
  untracked: false
  key: pip-cache
  paths:
    - ~/.cache/pip


python2.7:
  <<: *test_def
  image: python:2.7


python3.5:
  <<: *test_def
  image: python:3.5


pep8:
  image: python:2.7
  script:
    - pip install pylint
    - pip install -e .
    - pep8 rw
